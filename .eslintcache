[{"D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\index.js":"1","D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\App.js":"2","D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\context.js":"3","D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\pages\\About.js":"4","D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\pages\\SingleSmoothie.js":"5","D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\pages\\HowTo.js":"6","D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\pages\\Home.js":"7","D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\pages\\Error.js":"8","D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\pages\\History.js":"9","D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\components\\Sidebar.js":"10","D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\components\\Navbar.js":"11","D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\components\\Loading.js":"12","D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\components\\SmoothieList.js":"13","D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\components\\SearchForm.js":"14","D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\components\\Smoothie.js":"15","D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\assets\\links.js":"16","D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\components\\Modal.js":"17","D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\firebaseConfig.js":"18","D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\pages\\LikedSmoothies.js":"19"},{"size":503,"mtime":1611557761484,"results":"20","hashOfConfig":"21"},{"size":1292,"mtime":1611909276282,"results":"22","hashOfConfig":"21"},{"size":4094,"mtime":1611907955772,"results":"23","hashOfConfig":"21"},{"size":1666,"mtime":1611927514574,"results":"24","hashOfConfig":"21"},{"size":3584,"mtime":1611905998024,"results":"25","hashOfConfig":"21"},{"size":2727,"mtime":1611922839477,"results":"26","hashOfConfig":"21"},{"size":274,"mtime":1611839070393,"results":"27","hashOfConfig":"21"},{"size":407,"mtime":1611557632520,"results":"28","hashOfConfig":"21"},{"size":2850,"mtime":1611924418775,"results":"29","hashOfConfig":"21"},{"size":1753,"mtime":1611909312590,"results":"30","hashOfConfig":"21"},{"size":1264,"mtime":1611909309087,"results":"31","hashOfConfig":"21"},{"size":223,"mtime":1611649726037,"results":"32","hashOfConfig":"21"},{"size":846,"mtime":1611927810256,"results":"33","hashOfConfig":"21"},{"size":1251,"mtime":1611746642325,"results":"34","hashOfConfig":"21"},{"size":655,"mtime":1611816711463,"results":"35","hashOfConfig":"21"},{"size":345,"mtime":1611649743150,"results":"36","hashOfConfig":"21"},{"size":731,"mtime":1611732001260,"results":"37","hashOfConfig":"21"},{"size":1022,"mtime":1611816711465,"results":"38","hashOfConfig":"21"},{"size":960,"mtime":1611927727083,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"lou9np",{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"42"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\index.js",[],["80","81"],"D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\App.js",[],"D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\context.js",["82"],"import React, { useState, useContext, useEffect } from 'react';\r\nimport { useCallback } from 'react';\r\n\r\n// import podesenog firebase objekta\r\nimport database from './firebaseConfig';\r\nconst databaseRef = database.database().ref();\r\n\r\n// ucitaj liked listu iz local storage\r\n// let initialLikedList = [];\r\n// let initString = localStorage.getItem('likedList');\r\n// if (initString) {\r\n//   if (initString.length) {\r\n//     initialLikedList = initString.split(' ');\r\n//   }\r\n// }\r\n\r\nlet initialLikedList = [];\r\nlet initString = localStorage.getItem('likedList');\r\nif (initString) {\r\n  if (initString.length) {\r\n    initialLikedList = JSON.parse( initString);\r\n  }\r\n}\r\n\r\nconst AppContext = React.createContext();\r\n\r\nconst AppProvider = ({ children }) => {\r\n  const [showSidebar, setShowSidebar] = useState(false);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [modalMsg, setModalMsg] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState(''); \r\n  const [smoothies, setSmoothies] = useState([]);\r\n  const [likedList, setLikedList] = useState(initialLikedList);\r\n\r\n  const closeSidebar = () => {\r\n    setShowSidebar(false);\r\n  }\r\n\r\n  const openSidebar = () => {\r\n    setShowSidebar(true);\r\n  }\r\n\r\n  const closeModal = () => {\r\n    setShowModal(false);\r\n    setModalMsg('');\r\n  }\r\n\r\n  // const toggleLike = (itemId) => {\r\n  //   let updatedArr = [];\r\n\r\n  //   if (likedList.includes(itemId)) {\r\n  //     updatedArr = likedList.filter(item => item !== itemId)\r\n  //   } else {\r\n  //     updatedArr = [...likedList, itemId];      \r\n  //   }\r\n  //   // dodaj u local storage\r\n  //   localStorage.setItem('likedList', updatedArr.join(' '));\r\n  //   setLikedList(updatedArr);\r\n  // }\r\n\r\n  const toggleLike = (smoothieItem) => {\r\n    let updatedArr = [];\r\n    const likedListIds = likedList.map(item => item.id);\r\n\r\n    if (likedListIds.includes(smoothieItem.id)) {\r\n      updatedArr = likedList.filter(item => item.id !== smoothieItem.id)\r\n    } else {\r\n      updatedArr = [...likedList, smoothieItem];      \r\n    }\r\n    // dodaj u local storage\r\n    localStorage.setItem('likedList', JSON.stringify(updatedArr));\r\n    setLikedList(updatedArr);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    // ubacen setTimeout da nebi stalno ucitavao prilikom svakog inputa, manje server opterecen\r\n    const timeout = setTimeout(() => {\r\n      console.log(`FETCH ALL SMOOTHIES`);\r\n\r\n      // POSTAVLJANJE FIREBASE\r\n      databaseRef.child('smoothies').once(\"value\")\r\n        .then(snapshot => {\r\n            const data = snapshot.val();\r\n            const filteredData = data.filter(element => {\r\n              // bolje ingredients da se pretrazuje nego hashtag\r\n              // pretvaranjem u string izbegava se delom jednina/mnozina reci\r\n              return element.ingredients.join('').toLowerCase().includes(searchTerm)\r\n            });\r\n\r\n            setSmoothies(filteredData);\r\n            setLoading(false);\r\n        })\r\n        .catch((error) => {\r\n            console.log(\"Error: \" + error.code);\r\n            setShowModal(true);\r\n            setModalMsg(`${error.code}`);\r\n            setLoading(false);\r\n        });\r\n\r\n        // child__added efikasniji metod od values koji vraca ceo dokument zato je on za manje baze\r\n        //   databaseRef.on(\"child_added\", snap => {\r\n        //     console.log(snap.val());\r\n        // });\r\n\r\n    }, 800);\r\n\r\n    return () => clearTimeout(timeout);\r\n    \r\n  }, [searchTerm]);\r\n\r\n  return <AppContext.Provider value={{\r\n            showSidebar,\r\n            openSidebar,\r\n            closeSidebar,\r\n            showModal,\r\n            setShowModal,\r\n            modalMsg,\r\n            setModalMsg,\r\n            closeModal,\r\n            loading,\r\n            searchTerm,\r\n            setSearchTerm,\r\n            smoothies,\r\n            likedList,\r\n            toggleLike\r\n            }}>\r\n          {children}\r\n        </AppContext.Provider>\r\n}\r\n\r\n// make sure use\r\nexport const useGlobalContext = () => {\r\n  return useContext(AppContext)\r\n}\r\n\r\nexport { AppContext, AppProvider };","D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\pages\\About.js",[],"D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\pages\\SingleSmoothie.js",[],"D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\pages\\HowTo.js",[],"D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\pages\\Home.js",[],"D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\pages\\Error.js",[],"D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\pages\\History.js",[],"D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\components\\Sidebar.js",[],"D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\components\\Navbar.js",[],"D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\components\\Loading.js",[],"D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\components\\SmoothieList.js",[],"D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\components\\SearchForm.js",[],"D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\components\\Smoothie.js",[],"D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\assets\\links.js",[],"D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\components\\Modal.js",[],"D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\firebaseConfig.js",[],"D:\\Ostalo\\vlada\\Tutorijali\\Projects\\smoothie\\src\\pages\\LikedSmoothies.js",[],{"ruleId":"83","replacedBy":"84"},{"ruleId":"85","replacedBy":"86"},{"ruleId":"87","severity":1,"message":"88","line":2,"column":10,"nodeType":"89","messageId":"90","endLine":2,"endColumn":21},"no-native-reassign",["91"],"no-negated-in-lhs",["92"],"no-unused-vars","'useCallback' is defined but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]